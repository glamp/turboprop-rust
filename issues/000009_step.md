# Step 9: Configuration System and .turboprop.yml Support

## Objective
Implement configuration system to allow customization via `.turboprop.yml` files.

## Tasks
1. Create configuration structure for all CLI options
2. Implement YAML configuration file loading
3. Add configuration precedence (CLI args > config file > defaults)
4. Support repository-specific configuration
5. Add configuration validation and error handling
6. Create configuration documentation and examples

## Technical Approach
- Look for `.turboprop.yml` in repository root
- Support nested configuration options
- Merge configurations with proper precedence
- Validate configuration values at startup
- Provide clear error messages for invalid configs

## Dependencies to Add
- `serde_yaml` - YAML parsing and serialization

## Configuration Structure
```yaml
# .turboprop.yml
embedding:
  model: "sentence-transformers/all-MiniLM-L6-v2"
  batch_size: 32

indexing:
  max_filesize: "2mb"
  chunk_size: 400
  chunk_overlap: 50

search:
  default_limit: 10
  min_similarity: 0.1

directories:
  index_dir: ".turboprop"
  models_dir: ".turboprop/models"
```

## Acceptance Criteria
- Loads configuration from `.turboprop.yml` if present
- CLI arguments override configuration file values
- Configuration file values override built-in defaults
- Validates all configuration values with clear error messages
- Supports all major configuration options (model, limits, directories)
- Configuration changes are reflected in indexing and search behavior
- Invalid configuration files provide helpful error messages

## Files Created/Modified
- `src/config.rs` - Configuration management (extend existing)
- `src/validation.rs` - Configuration validation
- `.turboprop.yml.example` - Example configuration file
- `tests/config_tests.rs` - Configuration loading and validation tests

## Test Cases
- Test configuration loading from file
- Test CLI argument precedence
- Test configuration validation
- Test invalid configuration handling
- Test default value behavior
- Test configuration impact on indexing/search